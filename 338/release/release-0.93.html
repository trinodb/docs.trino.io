
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>13.173. Release 0.93 &#8212; Presto 338 Documentation</title>
    <link rel="stylesheet" href="../_static/presto.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '338',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="13.174. Release 0.92" href="release-0.92.html" />
    <link rel="prev" title="13.172. Release 0.94" href="release-0.94.html" /> 
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-133457846-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-133457846-1');
    </script>
  </head>
  <body>
<div class="header">
    <span style="float: right; margin-top: 20px;">
        <a href="/slack.html">
            <img height="24" src="https://img.shields.io/badge/Slack-ask%20for%20help-44af5c.svg?logo=slack">
        </a>
    </span>
    <h1 class="heading"><a href="../index.html">
        <span>Presto 338 Documentation</span></a></h1>
    <h2 class="heading"><span>13.173. Release 0.93</span></h2>
</div>
<div class="topnav">
    
<p class="nav">
    <span class="left">
        &laquo; <a href="release-0.94.html">13.172. Release 0.94</a>
    </span>
    <span class="right">
        <a href="release-0.92.html">13.174. Release 0.92</a> &raquo;
    </span>
</p>

</div>
<div class="content">
    
  <div class="section" id="release-0-93">
<h1>13.173. Release 0.93<a class="headerlink" href="#release-0-93" title="Permalink to this headline">#</a></h1>
<div class="section" id="orc-memory-usage">
<h2>ORC Memory Usage<a class="headerlink" href="#orc-memory-usage" title="Permalink to this headline">#</a></h2>
<p>This release changes the Presto ORC reader to favor small buffers when reading
varchar and varbinary data. Some ORC files contain columns of data that are
hundreds of megabytes when decompressed. In the previous Presto ORC reader, we
would allocate a single large shared buffer for all values in the column. This
would cause heap fragmentation in CMS and G1, and it would cause OOMs since
each value of the column retains a reference to the shared buffer. In this
release the ORC reader uses a separate buffer for each value in the column.
This reduces heap fragmentation and excessive memory retention at the expense
of object creation.</p>
</div>
<div class="section" id="verifier">
<h2>Verifier<a class="headerlink" href="#verifier" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Add support for setting username and password per query</li>
</ul>
<p>If youâ€™re upgrading from 0.92, you need to alter your verifier_queries table</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">verifier_queries</span> <span class="k">add</span> <span class="n">test_username</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">256</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">default</span> <span class="s1">&#39;verifier-test&#39;</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">verifier_queries</span> <span class="k">add</span> <span class="n">test_password</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">verifier_queries</span> <span class="k">add</span> <span class="n">control_username</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">256</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">default</span> <span class="s1">&#39;verifier-test&#39;</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">verifier_queries</span> <span class="k">add</span> <span class="n">control_password</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="general-changes">
<h2>General Changes<a class="headerlink" href="#general-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li>Add optimizer for <code class="docutils literal"><span class="pre">LIMIT</span> <span class="pre">0</span></code></li>
<li>Fix incorrect check to disable string statistics in ORC</li>
<li>Ignore hidden columns in <code class="docutils literal"><span class="pre">INSERT</span></code> and <code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TABLE</span> <span class="pre">AS</span></code> queries</li>
<li>Add SOCKS support to CLI</li>
<li>Improve CLI output for update queries</li>
<li>Disable pushdown for non-deterministic predicates</li>
</ul>
</div>
</div>


</div>
<div class="bottomnav">
    
<p class="nav">
    <span class="left">
        &laquo; <a href="release-0.94.html">13.172. Release 0.94</a>
    </span>
    <span class="right">
        <a href="release-0.92.html">13.174. Release 0.92</a> &raquo;
    </span>
</p>

</div>

    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>